{% extends 'core/base.html' %}
{% block title %}Past History{% endblock %}
{% block content %}
<div class="dashboard-layout">
    <aside class="sidebar">
        <h1>Quizlyzer</h1>
        <nav class="sidebar-nav">
            <a href="{% url 'dashboard' %}">New Quiz</a>
            <a href="{% url 'past_history' %}" class="active">Past History</a>
        </nav>
        <a href="{% url 'logout' %}" class="btn btn-primary">Logout</a>
    </aside>
    <main class="main-content">
        <h2>Your Quiz History</h2>
        <table class="history-table">
            <thead>
                <tr>
                    <th>Date</th>
                    <th>Topics</th>
                    <th>Score</th>
                    <th>Topics to Practice</th>
                </tr>
            </thead>
            <tbody>
                {% for attempt in attempts %}
                <tr>
                    <td>{{ attempt.timestamp|date:"F d, Y, P" }}</td>
                    <td>{{ attempt.topics }}</td>
                    <td><strong>{{ attempt.score|floatformat:0 }}%</strong> ({{attempt.correct_answers}}/{{attempt.total_questions}})</td>
                    <td>{{ attempt.practice_topics|default:"None" }}</td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="4" class="text-center">You have not taken any quizzes yet.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </main>
</div>
{% endblock %}
